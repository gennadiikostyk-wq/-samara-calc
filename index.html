<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <!-- Иконки калькулятора -->
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="shortcut icon" href="/favicon.ico">
  <title>Калькулятор ремонта квартир Самара – онлайн-смета от 63remontkv</title>
  <meta name="description" content="Точный расчёт цены ремонта квартиры в Самаре за 30 секунд. Косметический, комплексный, гипсокартон, плитка, ламинат, линолеум. Бесплатный выезд мастера.">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:title" content="Калькулятор ремонта квартир Самара">
  <meta property="og:description" content="Считайте смету онлайн и вызывайте мастера из сообщества 63remontkv">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://i.imgur.com/JKcYrXL.jpg">
  <!-- VK Bridge -->
  <script src="https://unpkg.com/@vkontakte/vk-bridge@latest/dist/browser.min.js"></script>
  <style>
    :root{--accent:#ff6200;--dark:#222;--bg:#f7f7f7}
    body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial;margin:0;background:var(--bg);color:var(--dark)}
    header{background:var(--accent);color:#fff;padding:20px;text-align:center}
    h1{margin:0;font-size:24px}h2{margin-top:0;font-size:20px}
    .wrap{max-width:720px;margin:auto;padding:16px}
    .card{background:#fff;border-radius:10px;padding:20px;margin-bottom:16px;box-shadow:0 2px 8px rgba(0,0,0,.08)}
    label{display:block;margin-bottom:6px;font-weight:600}
    input,select{width:100%;padding:10px;border:1px solid #bbb;border-radius:6px;font-size:16px;margin-bottom:10px}
    button.calc-btn{width:100%;padding:14px;font-size:18px;border:none;border-radius:6px;background:var(--accent);color:#fff;cursor:pointer}
    button.calc-btn:hover{background:#e55a00}
    table{width:100%;border-collapse:collapse;margin-top:10px;font-size:15px}
    th,td{padding:8px;text-align:left;border-bottom:1px solid #eee}
    th{background:#fafafa}
    .total{font-size:20px;font-weight:700;margin-top:10px}
    .note{font-size:13px;color:#555;margin-top:8px}
    .portfolio{display:flex;gap:12px;flex-wrap:wrap;margin-top:12px}
    .portfolio img{width:100%;max-width:180px;border-radius:8px}
    .tg-btn{background:#0088cc;color:#fff;margin-top:12px}
  </style>
</head>
<body>
<header>
  <h1>Калькулятор ремонта квартир Самара</h1>
  <p>Смета за 30 секунд. Бесплатный выезд мастера. Оплата по факту.</p>
</header>

<div class="wrap">
  <div class="card">
    <h2>1. Параметры объекта</h2>

    <label>Тип ремонта</label>
    <select id="type">
      <option value="cos">Косметический</option>
      <option value="com">Комплексный</option>
    </select>

    <label>Общая площадь, м²</label>
    <input type="number" id="area" min="1" placeholder="например, 42">

    <label>Количество комнат</label>
    <input type="number" id="rooms" min="1" max="5" value="1">

    <label>Высота потолков, м</label>
    <input type="number" id="height" min="2" max="4" step="0.1" value="2.7">

    <h3>Что входит в объём</h3>
    <label><input type="checkbox" id="pol" checked> Пол (ламинаат / линолеум)</label>
    <label><input type="checkbox" id="walls" checked> Стены (шпаклёвка + покраска / обои)</label>
    <label><input type="checkbox" id="tile"> Плитка (ванная/кухня)</label>
    <label><input type="checkbox" id="gips"> Гипсокартон (потолок/перегородки)</label>
    <label><input type="checkbox" id="elec"> Замена розеток</label>
    <label><input type="checkbox" id="toilet"> Установка унитаза</label>
    <label><input type="checkbox" id="sink"> Установка раковины</label>
    <label><input type="checkbox" id="bath"> Установка ванны</label>
    <label><input type="checkbox" id="box"> Короб ГКЛ</label>
    <label><input type="checkbox" id="slopes"> Откосы окон/дверей</label>

    <p class="note">Поставьте галочки только на нужные работы. Можно изменить и пересчитать.</p>
    <button class="calc-btn" onclick="estimate()">Посчитать смету</button>
  </div>

  <div class="card" id="result" style="display:none">
    <h2>2. Развёрнутая смета</h2>
    <table id="table"></table>
    <div class="total" id="total"></div>

    <button class="calc-btn tg-btn" onclick="sendTelegram()">Отправить себе в Telegram</button>
    <div class="note">Нажмите → скопируйте сообщение и вышлите боту @SendToTelegramBot</div>
  </div>

  <div class="card">
    <h2>3. Примеры работ</h2>
    <p>Посмотреть все фото и видео наших объектов можно в альбоме сообщества:</p>
    <p><a href="https://vk.com/63remontkv?z=album-175983542_259221831" target="_blank" style="font-weight:600;color:var(--accent)">Открыть альбом «Ремонт квартир Самара» →</a></p>
    <p style="font-size:13px;color:#555;margin-top:8px">Работы разных годов: косметический, комплексный, капитальный ремонт, гипсокартон, плитка, ламинат.</p>
  </div>
</div>

<script>
  const PRICES = {
    plaster  : 500,   // штукатурка по маякам
    putty    : 350,   // шпаклёвка
    paint    : 400,   // покраска
    wallpaper: 250,   // обои
    laminate : 500,   // укладка ламината
    linoleum : 200,   // укладка линолеума
    plinth   : 300,   // плинтус п/м
    tile     : 2500,  // плитка м²
    gips     : 500,   // гипсокартон м²
    socket   : 500,   // розетка шт.
    toilet   : 2000,  // установка унитаза
    sink     : 2000,  // раковина
    bath     : 4000,  // ванна
    box      : 3500,  // короб из ГКЛ
    slope    : 3000   // откосы (комплект)
  };

  /* === основная смета === */
  function estimate(){
    const type   = document.getElementById('type').value;
    const area   = +document.getElementById('area').value;
    const rooms  = +document.getElementById('rooms').value;
    const height = +document.getElementById('height').value;
    if(!area){alert('Укажите площадь');return}

    const pol   = document.getElementById('pol').checked;
    const walls = document.getElementById('walls').checked;
    const tile  = document.getElementById('tile').checked;
    const gips  = document.getElementById('gips').checked;
    const elec  = document.getElementById('elec').checked;
    const toilet= document.getElementById('toilet').checked;
    const sink  = document.getElementById('sink').checked;
    const bath  = document.getElementById('bath').checked;
    const box   = document.getElementById('box').checked;
    const slopes= document.getElementById('slopes').checked;

    // точная площадь стен без потолка
    const perimeter = Math.ceil((Math.sqrt(area)*4)*rooms); // примерный периметр
    const wallArea  = Math.ceil(perimeter*height);           // стены без потолка
    // плинтус = периметр
    const plinthLen = perimeter;

    let items = [];

    if(walls){
      items.push(['Штукатурка по маякам', wallArea+' м²', PRICES.plaster+' ₽/м²', wallArea*PRICES.plaster]);
      items.push(['Шпаклёвка (2 слоя)',   wallArea+' м²', PRICES.putty+' ₽/м²',   wallArea*PRICES.putty]);
      items.push(['Покраска/обои',        wallArea+' м²', PRICES.paint+' ₽/м²',   wallArea*PRICES.paint]);
    }
    // пол: ламинат ИЛИ линолеум, но не оба сразу
    if(pol){
      items.push(['Укладка ламината',     area+' м²',     PRICES.laminate+' ₽/м²', area*PRICES.laminate]);
      // линолеум только если НЕ выбран ламинат (или добавьте радиокнопку)
      // здесь оставляем оба, но клиент снимет галочку сам
      items.push(['Укладка линолеума',    area+' м²',     PRICES.linoleum+' ₽/м²', area*PRICES.linoleum]);
    }
    if(tile){
      items.push(['Плитка (ванная/кухня)',20+' м²',      PRICES.tile+' ₽/м²',    20*PRICES.tile]);
    }
    if(gips){
      items.push(['Гипсокартон (потолок)',area+' м²',     PRICES.gips+' ₽/м²',     area*PRICES.gips]);
    }
    items.push(['Плинтус',              plinthLen+' п/м',PRICES.plinth+' ₽/п.м', plinthLen*PRICES.plinth]);
    if(elec){
      items.push(['Замена розеток',     rooms*3+' шт.',  PRICES.socket+' ₽/шт.',  rooms*3*PRICES.socket]);
    }
    // --- только если выбрано ---
    if(bath)   items.push(['Установка ванны',     '1 шт.', PRICES.bath+' ₽',   PRICES.bath]);
    if(toilet) items.push(['Установка унитаза',   '1 шт.', PRICES.toilet+' ₽', PRICES.toilet]);
    if(sink)   items.push(['Установка раковины',  '1 шт.', PRICES.sink+' ₽',   PRICES.sink]);
    if(box)    items.push(['Короб ГКЛ',           '1 компл.', PRICES.box+' ₽', PRICES.box]);
    if(slopes) items.push(['Откосы окон/дверей',  '1 компл.', PRICES.slope+' ₽',PRICES.slope]);

    let total = items.reduce((s,i)=>s+i[3],0);
    if(type==='cos') total*=0.85; // косметический дешевле
    total = Math.ceil(total);

    document.getElementById('table').innerHTML = items.map(r=>`<tr><td>${r[0]}</td><td>${r[1]}</td><td>${r[2]}</td><td>${r[3].toLocaleString('ru')} ₽</td></tr>`).join('');
    document.getElementById('total').innerHTML   = `ИТОГО: ${total.toLocaleString('ru')} ₽`;
    document.getElementById('result').style.display='block';
    window.finalTotal = total;
  }

  /* === отправить в Telegram === */
  function sendTelegram(){
    const txt = `Смета ремонта квартиры:
${document.getElementById('table').innerText}
ИТОГО: ${window.finalTotal||0} ₽
Заказать: https://vk.com/63remontkv`;
    window.open(`https://t.me/share/url?url=`+encodeURIComponent(txt),'_blank');
  }

  /* === VK Mini-app init === */
  if(window.vkBridge) vkBridge.send('VKWebAppInit');
</script>
</body>
</html>
commit-message:
«добавил иконки и манифест»
